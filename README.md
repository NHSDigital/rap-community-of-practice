[what is RAP]: what-is-RAP.md
[Publishing Code]: development-approach/08_how-to-publish-your-code-in-the-open.md
[Example Repos]: https://github.com/NHSDigital/data-analytics-services#rap-repositories
[Training your team]: /training
[Git]: /development-approach
[Python]: /python
[R]: /R
[Testing]: /development-approach
[Coding Best Practice]: /coding-best-practice
[RAP Community of Practice Teams page]: https://teams.microsoft.com/l/channel/19%3aEnoJ_c3NIwcWaLoqHyrbmiui8SI-8lZ1B2SvxNuGbyU1%40thread.tacv2/General?groupId=1c1528d7-030e-48eb-92cf-dc0f6a618ea0&tenantId=50f6071f-bbfe-401a-8803-673748e629e2

|  |  |  |  |  |
|---|---|---|---|---|
| [<img alt="What is RAP?" img src="images/What is RAP icon.png">][what is RAP] | [<img alt="Publishing Code" img src="images/publishing code icon.png">][Publishing Code] | [<img alt="Python" img src="images/Python icon.png">][python] | [<img alt="R" img src="images/R icon.png">][R] | [<img alt="Coding Best Practice" img src="images/coding best practice icon.png">][Coding Best Practice] |
| [<img alt="Example Repos" img src="images/Example Repos icon.png">][Example Repos] |[<img alt="Training your team" img src="images/training your team icon.png">][Training your team] | [<img alt="Git" img src="images/Git icon.png">][git] | [<img alt="Testing" img src="images/Testing icon.png">][Testing] | [<img alt="NHSD Analytics Function" img src="images/NHSD Analytics Function repo.png">](https://github.com/NHSDigital/data-analytics-services) |

***Repository owner: [NHS Digital Analytical Services](https://github.com/NHSDigital/data-analytics-services)***

***Email: [datascience@nhs.net](mailto:datascience@nhs.net)***

***To contact us raise an issue on Github or via email and will respond promptly.***

# RAP community of practice
Welcome to the landing page for the RAP community of practice repo. 

**The [Goldacre Review](https://www.gov.uk/government/publications/better-broader-safer-using-health-data-for-research-and-analysis), tasked with finding ways to deliver better, broader, and safer use of NHS data for analysis and research, identified RAP as the essential element to ensure high-quality analysis.** More, Reproducible Analytical Pipelines follow the principles of the [AQUA Book](https://www.gov.uk/government/publications/the-aqua-book-guidance-on-producing-quality-analysis-for-government) guidelines, which revolve around analysis being reproducible, auditable, transparent, and quality assured. 

You can learn all about reproducible analytical pipelines (RAP) on our [What is RAP](what-is-RAP.md) page. In a nutshell though, RAP is becoming the standard for creating analytical outputs in government. RAP combines a number of ways of working that help to improve the reliability, transparency, and speed of statistics publications. 

The RAP community of practice is intended for analysts and data scientists who are interested in adopting the working practices included in [reproducible analytical pipelines (RAP)](what-is-RAP.md). It includes resources and guidance to help teams adopting RAP practices. 

## Aims
This community of practice aims to support teams in adopting RAP practices through: 
1. **Developing learning materials including reusable templates**
Most of the learning materials were initially adapted for the NHS Digital analytical environment, but most are applicable elsewhere.
2. **Offering support as teams establish new working practices**
We offer in-person support to NHS Digital teams in the form of bespoke coaching sessions. We also co-ordinate informal weekly drop-in sessions (internal to NHS Digital) and host monthly workshops, where you can learn from others at different stages of RAP adoption, and get advice. If you would like to attend these please [contact us](mailto:datascience@nhs.net).

This work is prompted by the observations that teams can struggle to adopt RAP practices without support. While no one element of RAP is particularly difficult, learning several new skills at the same time as delivering BAU is challenging. Teams can struggle to protect time to embed these practices. (The Statistics Authority report on [the barriers to RAP adoption](https://osr.statisticsauthority.gov.uk/publication/reproducible-analytical-pipelines-overcoming-barriers-to-adoption/) is an excellent discussion of the challenges in rolling out RAP). 

Luckily, at NHS Digital we have strong senior support for RAP and several teams have already begun to adopt many of the practices included in RAP. Consequently, we already have a large pool of skilled, enthusiastic analysts who are willing to help others. These resources also aim to support the goals laid out in the Goldacre report [Bringing NHS data analysis into the 21st century](https://journals.sagepub.com/doi/10.1177/0141076820930666) and to align with Tim Berners-Lee's [five star data](https://5stardata.info/en/) principles. Over time we hope to build up a community of people who can self-support and further develop these ways of working

## Support
If your team is embarking upon a RAP journey, you should look at our [what is RAP](what-is-RAP.md) page and think about which [levels of RAP](what-is-RAP.md#levels-of-rap) that you want to target. 

From there, we recommend reaching out for some in-person support. 

**If you work at NHS Digital**, the **Data Science RAP squad are your main RAP Champions: get in touch!** We you can offer some in-person support in several forms:
* Reviewing your RAP work and assessing your progress against the [levels of RAP](what-is-RAP.md#levels-of-rap)
* Peer review of code
* Workshops for a specific RAP capability
* Consultancy style engagement where we plan a migration strategy
* Pair coding
* Shadowing another team

There is also a growing community of RAP experts outside the Data Science RAP squad - you can find them on our [RAP Community of Practice Teams Page] (NHS Digital only)

**If you're not in NHS Digital**, the [RAP Champions Network](https://analysisfunction.civilservice.gov.uk/support/reproducible-analytical-pipelines/reproducible-analytical-pipeline-rap-champions) can offer support through:
* helping you understand why and how they implemented RAP in your department and why it worked for them
* sharing code via platforms like GitHub so that others can learn from and adapt what has been done
* shadowing & mentoring opportunities 
* peer review 

They also have more guidance on how to get started, and get help [here](https://dataingovernment.blog.gov.uk/2022/08/08/mentoring-a-successful-rap-project/).

There are several forums where you can introduce yourself, ask for help, or discuss different approaches:
* NHS Digital RAP [MS Teams page][RAP Community of Practice Teams page] (internal to NHS Digital).
* [RAP Slack channel](https://nhsrcommunity.slack.com/archives/C03N1GXHEH0) from the [NHS-R](https://nhsrcommunity.com/) community.
* [RAP collaboration Slack channel](https://govdatascience.slack.com/archives/C6H22U3H9) on the cross-government data science Slack Workspace (open to all civil servants, including NHS staff).

## Tutorials and resources
As we work alongside teams at NHS Digital, we try to produce reusable learning materials. We try to avoid reproducing guidance that is easily available online. Instead, we link to lots of external resources where you can self-serve. 

We also have created some bespoke guidance that lays out how you would accomplish these practices in the NHS Digital setting, which are available internally.

Each of the folders in this repository has its own README to explain the content:
* [General development practices](development-approach/)
* [Python resources](python/)
* [Pyspark resources](pyspark/)
* [RAP rollout strategy notes](./rollout-approach/)

> We are currently updating our minimal Python RAP package template, which is freely available to use via Github: [RAP package template](https://github.com/NHSDigital/rap-package-template).

These resources are demand-driven so if you think of something worth including, improving, or want to contribute, please [raise an issue on GitHub](https://github.com/NHSDigital/rap-community-of-practice/issues) or contact the team via the [MS Teams page](https://teams.microsoft.com/l/channel/19%3aEnoJ_c3NIwcWaLoqHyrbmiui8SI-8lZ1B2SvxNuGbyU1%40thread.tacv2/General?groupId=1c1528d7-030e-48eb-92cf-dc0f6a618ea0&tenantId=50f6071f-bbfe-401a-8803-673748e629e2) (internal to NHS Digital), or [email](mailto:datascience@nhs.net).

These resources are not intended to be prescriptive. There are many ways to accomplish a task and teams have valid reasons for choosing other approaches. We hope that these resources are helpful for teams wanting to adopt good practices that they have heard about but don't know where to start.

## External links
### Strategic
- The Government Analysis Function has published their [RAP strategy](https://analysisfunction.civilservice.gov.uk/policy-store/reproducible-analytical-pipelines-strategy/). It's very good for understanding what role we all have to play in RAP.
- The [Goldacre Review](https://www.gov.uk/government/publications/better-broader-safer-using-health-data-for-research-and-analysis) mentions RAP extensively as a key tool in improving the way we use patient data.
- [Here](https://www.bennett.ox.ac.uk/blog/2022/07/bennett-insights-an-overview-of-uk-data-policy-developments/) is a helpful summary of the above documents and others which helps understand RAP and why it is important in the context of UK data policy developments.

### Guidance and Standards
- The [AQUA book of analytical standards](https://www.gov.uk/government/publications/the-aqua-book-guidance-on-producing-quality-analysis-for-government).
- The [ONS best practice team have a useful website - often called the Quack book](https://best-practice-and-impact.github.io/qa-of-code-guidance/intro.html) covering many of the same topics we cover here. Their [best-practice checklist](https://best-practice-and-impact.github.io/qa-of-code-guidance/checklist_higher.html)  is particularly useful.
- The Turing Institute has published [The Turing Way handbook to reproducible, ethical and collaborative data science](https://the-turing-way.netlify.app/welcome.html)

### RAP Examples, Challenges, Benefits
- Here is a good [high-level overview of RAP](https://dataingovernment.blog.gov.uk/2017/03/27/reproducible-analytical-pipeline/). It explains the context of RAP in government statistics and gives some history to the work. 
- The GSS have produced a list of the [benefits that come from RAP](https://gss.civilservice.gov.uk/reproducible-analytical-pipelines/benefits-to-government-from-reproducible-analytical-pipelines/).
- The Statistics Authority has published this excellent report on [overcoming barriers to RAP adoption](https://osr.statisticsauthority.gov.uk/publication/reproducible-analytical-pipelines-overcoming-barriers-to-adoption/).
- Alston, J. M., and Rick, J. A.. 2020. A Beginner's Guide to Conducting Reproducible Research. Bull Ecol Soc Am 102(2):e01801. https://doi.org/10.1002/bes2.1801
- The GSS training portal offers an [Introduction to RAP course](https://gss.civilservice.gov.uk/training/introduction-to-reproducible-analytical-pipelines-rap/)
- The Government Analysis Function also did some [research on the rollout of RAP across different deparments](https://best-practice-and-impact.github.io/CARS-3/index.html).

### Social spaces
- There are several slack channels that discuss RAP and related topics: the [govdatascience.slack.com RAP channel](https://govdatascience.slack.com/archives/C6H22U3H9), the [NHS-R community](nhsrcommunity.slack.com), and the [NHS-pycom community](nhs-pycom.slack.com)
- We have an [MS Teams page](https://teams.microsoft.com/l/channel/19%3aEnoJ_c3NIwcWaLoqHyrbmiui8SI-8lZ1B2SvxNuGbyU1%40thread.tacv2/General?groupId=1c1528d7-030e-48eb-92cf-dc0f6a618ea0&tenantId=50f6071f-bbfe-401a-8803-673748e629e2) (internal to NHS Digital)

## Misc
We have taken inspiration from the [NHS Digital software engineering COP](https://github.com/NHSDigital/software-engineering-quality-framework/blob/master/insights/review.md). It has tons of great material so I encourage you to read and reflect on these working practices.

## Licence
RAP Community of Practice codebase is released under the MIT License.

The documentation is Â© Crown copyright and available under the terms of the [Open Government 3.0](https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/) licence.

***Warning - this repository is a snapshot of a repository internal to NHS Digital.
This means that some links may not work for external readers.***
