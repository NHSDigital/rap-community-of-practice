
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../images/favicon/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Tidy Data - RAP Community of Practice</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--<type>:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14h-2V9h2m0 9h-2v-2h2M1 21h22L12 2 1 21Z"/></svg>');}</style>


    
    
    
    

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Arial:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Arial";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

<!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Link to home -->
    <a
      href="../../.."
      title="RAP Community of Practice"
      class="md-header__button md-logo-nhs"
      aria-label="RAP Community of Practice"
      data-md-component="logo"
    >
      
  <img src="../../../images/logo/nhs-blue-on-white.jpg" alt="logo">

    </a>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RAP Community of Practice
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tidy Data
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/NHSDigital/rap-community-of-practice" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    RAP Community of Practice
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../introduction_to_RAP/what_is_RAP/" class="md-tabs__link">
        What is RAP?
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../our_RAP_service/" class="md-tabs__link">
        Our RAP service
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Implementing RAP
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../training_resources/" class="md-tabs__link">
        Training resources
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../tags/" class="md-tabs__link">
      Tags
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../site_info/about/" class="md-tabs__link">
        Site info
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="RAP Community of Practice" class="md-nav__button md-logo" aria-label="RAP Community of Practice" data-md-component="logo">
      
  <img src="../../../images/logo/nhs-blue-on-white.jpg" alt="logo">

    </a>
    RAP Community of Practice
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/NHSDigital/rap-community-of-practice" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    RAP Community of Practice
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          What is RAP?
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="What is RAP?" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          What is RAP?
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction_to_RAP/what_is_RAP/" class="md-nav__link">
        What is RAP?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction_to_RAP/why_RAP_is_important/" class="md-nav__link">
        Why RAP is important
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction_to_RAP/levels_of_RAP/" class="md-nav__link">
        Levels of RAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction_to_RAP/gov-policy-on-rap/" class="md-nav__link">
        Government policy on RAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction_to_RAP/what-is-open-source/" class="md-nav__link">
        What is open source?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction_to_RAP/history_of_RAP/" class="md-nav__link">
        The history of RAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction_to_RAP/RAP_in_health/" class="md-nav__link">
        RAP in health
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../our_RAP_service/">Our RAP service</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Our RAP service" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Our RAP service
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../our_RAP_service/building_team_capability/" class="md-nav__link">
        Building team capability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../our_RAP_service/support-models/" class="md-nav__link">
        Support models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../our_RAP_service/typical-engagement-flow/" class="md-nav__link">
        Typical engagement flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../our_RAP_service/rap-pre-engagement-questionnaire/" class="md-nav__link">
        RAP pre-engagement Questionnaire
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../our_RAP_service/programme-level-reporting/" class="md-nav__link">
        Programme level reporting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../our_RAP_service/service-design-and-user-research/" class="md-nav__link">
        Service design and user research
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Implementing RAP</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Implementing RAP" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Implementing RAP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../rap-readiness/" class="md-nav__link">
        Are you ready for RAP?
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Technical Skills for RAP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Technical Skills for RAP" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Technical Skills for RAP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../skills_for_rap/git_for_rap/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../skills_for_rap/python_for_rap/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../skills_for_rap/r_for_rap/" class="md-nav__link">
        R
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../process_mapping/" class="md-nav__link">
        Process Mapping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../thin-slice-strategy/" class="md-nav__link">
        Thin slice strategy
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_6">
          Workflow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Workflow" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Workflow
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../technical-workflow/" class="md-nav__link">
        Technical workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tools/" class="md-nav__link">
        Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../coding-best-practice/" class="md-nav__link">
        Coding best practice
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../code-review/" class="md-nav__link">
        Code review
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks_versus_ide_development/" class="md-nav__link">
        Notebooks vs IDE development
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../accessibility-how-to/" class="md-nav__link">
        Guidance on accessibility
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quality-assuring-analytical-outputs/" class="md-nav__link">
        Quality assuring analytical outputs
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tidy data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tidy data
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#reference-for-this-guide" class="md-nav__link">
    Reference for this guide
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tidy-data-why-should-i-care" class="md-nav__link">
    Tidy data: Why should I care?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-tidy-data" class="md-nav__link">
    What is tidy data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-tidy-your-data" class="md-nav__link">
    How to tidy your data
  </a>
  
    <nav class="md-nav" aria-label="How to tidy your data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-bad-column-headers-as-values-not-as-names" class="md-nav__link">
    1. BAD: Column headers as values, not as names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-bad-multiple-variables-stored-in-one-column" class="md-nav__link">
    2. BAD: Multiple variables stored in one column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-bad-variables-stored-in-both-rows-and-columns" class="md-nav__link">
    3. BAD: Variables stored in both rows and columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-bad-multiple-types-of-observations-in-one-table" class="md-nav__link">
    4. BAD: Multiple types of observations in one table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-one-type-of-observational-unit-in-multiple-tables" class="md-nav__link">
    5. One type of observational unit in multiple tables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diabetes-tidy-data-example" class="md-nav__link">
    Diabetes tidy data example
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_7">
          Publishing Code
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Publishing Code" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Publishing Code
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../publishing_code/how-to-publish-your-code-in-the-open/" class="md-nav__link">
        How to publish your code in the open
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../publishing_code/updating-your-published-code/" class="md-nav__link">
        Updating published code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../publishing_code/licensing-your-code/" class="md-nav__link">
        Licensing your code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../example-pipeline/" class="md-nav__link">
        Example Pipeline (Python)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../support/" class="md-nav__link">
        Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../useful_links/" class="md-nav__link">
        Useful Links
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../training_resources/">Training resources</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Training resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Training resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Git
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Git" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Git
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/introduction-to-git/" class="md-nav__link">
        Introduction to Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/using-git-collaboratively/" class="md-nav__link">
        Using Git collaboratively
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/making-code-discoverable/" class="md-nav__link">
        Making code discoverable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/githooks/" class="md-nav__link">
        Git Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/github_gitlab_terminology/" class="md-nav__link">
        GitHub vs GitLab Terminology
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2_6" type="checkbox" id="__nav_5_2_6" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2_6">
          Quick Start Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Quick Start Guides" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_2_6">
          <span class="md-nav__icon md-icon"></span>
          Quick Start Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/quick_start_guides/git_quick_start_guide/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/quick_start_guides/github_quick_start_guide/" class="md-nav__link">
        GitHub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/quick_start_guides/gitlab_quick_start_guide/" class="md-nav__link">
        GitLab
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2_7" type="checkbox" id="__nav_5_2_7" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2_7">
          Walkthroughs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Walkthroughs" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_2_7">
          <span class="md-nav__icon md-icon"></span>
          Walkthroughs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/git_walkthroughs/committing_work_walkthrough/" class="md-nav__link">
        Committing Work
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/git_walkthroughs/working_with_branches_walkthrough/" class="md-nav__link">
        Working with Branches
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/git/git_walkthroughs/pull_and_merge_requests_walkthrough/" class="md-nav__link">
        Pull and Merge Requests
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/intro-to-python/" class="md-nav__link">
        Intro to Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/basic-python-data-analysis-operations/" class="md-nav__link">
        Basic Python data analysis operations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/python-functions/" class="md-nav__link">
        Python functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/visualisation-in-python/" class="md-nav__link">
        Visualisation in Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/handling-file-paths/" class="md-nav__link">
        Handling file paths
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/logging-and-error-handling/" class="md-nav__link">
        Logging and error handling in Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/project-structure-and-packaging/" class="md-nav__link">
        Project structure and packaging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/config-files/" class="md-nav__link">
        Using config files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/data-classes/" class="md-nav__link">
        Data Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_10" type="checkbox" id="__nav_5_3_10" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_10">
          Virtual environments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Virtual environments" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_3_10">
          <span class="md-nav__icon md-icon"></span>
          Virtual environments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/virtual-environments/why-use-virtual-environments/" class="md-nav__link">
        Why use virtual environments?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/virtual-environments/venv/" class="md-nav__link">
        Venv
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/virtual-environments/conda/" class="md-nav__link">
        Conda
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/unit-testing/" class="md-nav__link">
        Unit testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/unit-testing-field-definitions/" class="md-nav__link">
        Unit testing field definitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/python/backtesting/" class="md-nav__link">
        Back testing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../training_resources/pyspark/">PySpark</a>
          
            <label for="__nav_5_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="PySpark" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          PySpark
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/pyspark/logging-and-error-handling/" class="md-nav__link">
        Logging and error handling in PySpark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/pyspark/pyspark-style-guide/" class="md-nav__link">
        PySpark style guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/pyspark/pyspark-tutorial/" class="md-nav__link">
        PySpark starter script
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/pyspark/efficient-pyspark-case-study/" class="md-nav__link">
        Efficient Pyspark Case Study
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../training_resources/R/">R</a>
          
            <label for="__nav_5_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="R" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          R
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/R/git_with_RStudio/" class="md-nav__link">
        Git with RStudio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_6" type="checkbox" id="__nav_5_6" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_6">
          Coding Tips
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Coding Tips" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_6">
          <span class="md-nav__icon md-icon"></span>
          Coding Tips
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/coding_tips/when-to-stop-coding/" class="md-nav__link">
        When to stop coding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../training_resources/coding_tips/refactoring-guide/" class="md-nav__link">
        Refactoring golden rules
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../tags/" class="md-nav__link">
        Tags
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7">
          Site info
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Site info" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Site info
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../site_info/about/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../site_info/acknowledgements/" class="md-nav__link">
        Acknowledgements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../site_info/rap-release-workflow/" class="md-nav__link">
        Website Release Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../site_info/repo_traffic_information/" class="md-nav__link">
        GitHub Repository Traffic Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../site_info/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                


    <h1 class="header-with-tags"> Tidy Data </h1>
    

    

                  
  

  <nav class="md-tags" >
    
      
      
        <a href="../../../tags/#tidy-data" class="md-tag">Tidy data</a>
      
    
  </nav>



  <a href="https://github.com/NHSDigital/rap-community-of-practice/edit/main/docs/implementing_RAP/workflow/tidy-data.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="_1"></h1>
<p>Adopting inconsistent data formats leads to a huge amount of wasted effort and can actually lead to very complex code. By adopting <strong>tidy data format</strong> for your work you can both improve your service to users and simplify your own production pipeline.</p>
<h2 id="reference-for-this-guide">Reference for this guide</h2>
<p><a href="https://vita.had.co.nz/papers/tidy-data.pdf">Hadley Wickham's original paper on tidy format (pdf)</a></p>
<h2 id="tidy-data-why-should-i-care">Tidy data: Why should I care?</h2>
<blockquote>
<p>"Tidy datasets are all alike but every messy dataset is messy in its own way" - Hadley Wickham</p>
</blockquote>
<p>Teams spend a huge amount of effort reshaping and organising data to meet different needs. Tidy data is an attempt to align on a consistent shape for data that can meet most analytical use cases.</p>
<p>By doing as much intermediate data processing as possible in tidy format, you can often achieve huge improvements in code complexity and difficulty of maintaining code.</p>
<p>Note that adopting tidy data for stats production does not mean that your outputs need to be formatted this way. In fact, it is straightforward to get from a consistent tidy format to any unique format you require.</p>
<p>A common bad practice in stats production is to combine data production and data formatting in the same steps. Teams will calculate statistics and at the same time organise that data to match an excel table. This is a natural thing to do as you write code with your output table in mind but this approach leads to multiple problems:</p>
<ul>
<li>Code often gets repeated for different tables - increasing the burden of updating the code each year and increasing the likelihood of errors.</li>
<li>Code is messy and difficult to maintain. Code should do one thing only - either produce the data or format the data.</li>
<li>Once the data has been formatted it becomes less useful for other analysts since it is not machine readable. Before another team can use the data, they need to reformat it.</li>
</ul>
<p>Tidy data offers a consistent format for data analysis purposes that is easy for analysts to produce, easy for humans to interpret, and easy for statistical tools like Python and R to read. Tidy data offers more flexibility for readability and simplicity for data analysis purposes, as opposed to 'messy' or non-tidy data that can be have its own structure and rules. Tidy data involves "structuring datasets to facilitate analysis."</p>
<p>Having a consistent way of storing data, like in the tidy format, allows for analysts to easily use the same tools of analysis in a universal way, for example R or Python. Then, time is spent on producing all kinds of published outputs from the tidy structure, other pieces of analysis and data visualisation outputs such as dashboards.</p>
<p>An example of how tidy data enables analysts is that keeping this consistent form of storing data allows analysts to apply longitudinal methods to large datasets that hold years worth of data, critical for healthcare analytics and research.</p>
<h2 id="what-is-tidy-data">What is tidy data</h2>
<ul>
<li><a href="https://r4ds.had.co.nz/tidy-data.html">See Hadley Wickham's excellent book for a great explanation</a></li>
</ul>
<p>It can be confusing in a large dataset which data is an observation (e.g. all measurements for a specific patient across all attributes) and which data is a variable (i.e. the values for a specific type of attribute so the treatment type or the results of a treatment).</p>
<p>There are several conventions on how a tidy dataset is structured but the most common one follows Codd's 3rd normal form (Codd, 1990):</p>
<ul>
<li>Each variable forms a column</li>
<li>Each observation forms a row</li>
<li>Each type of observational unit forms a table</li>
</ul>
<p>Example of tidying up your data</p>
<p>A 'messy' or non-tidy dataset displaying results to treatments applied to patients:</p>
<table>
<thead>
<tr>
<th>Patient_ID</th>
<th>Treatment A</th>
<th>Treatment B</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>N/A</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>11</td>
<td>5</td>
</tr>
<tr>
<td>3</td>
<td>9</td>
<td>12</td>
</tr>
</tbody>
</table>
<p>The same data but in a tidy format:</p>
<table>
<thead>
<tr>
<th>Patient_ID</th>
<th>Treatment</th>
<th>Measured_Variable</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>a</td>
<td>N/A</td>
</tr>
<tr>
<td>2</td>
<td>a</td>
<td>11</td>
</tr>
<tr>
<td>3</td>
<td>a</td>
<td>9</td>
</tr>
<tr>
<td>1</td>
<td>b</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>b</td>
<td>5</td>
</tr>
<tr>
<td>3</td>
<td>b</td>
<td>12</td>
</tr>
</tbody>
</table>
<p>Notice how on this table:</p>
<ul>
<li>Each measured variable (i.e. Treatment, Measured Variable) has its own column.</li>
<li>Each observation/measurement forms a row.</li>
<li>The treatment variable observations form a table of their own, ordering the dataset in a way that connects to the next subtable (i.e. Treatment b).</li>
</ul>
<h2 id="how-to-tidy-your-data">How to tidy your data</h2>
<p>It's easy to imagine tidy data with a small scale dataset however with real world data things can be trickier. Tidy data follow a similar structure but messy data are unique in their own 'messiness'.</p>
<p>In the subsection above, an example of a messy dataset was transformed to a tidy format. Messy data will rarely be that simple and obviously structured in several different ways, depending on what the data is measuring. This subsection will cover the most common issues with messy data and how to apply the tidy format for each example:</p>
<p><strong><em>Note:</em></strong>
<em>It's perfectly valid and understandable to have your own structured way of presenting data in your published outputs, like in the table below (Occupation and Salaries). You should only format your data like this as a final output step - after producing your data in tidy format. Tidy data focuses not so much on the data formatting perspective but on the data production side, as tidy data enables the analyst to focus on analytical questions and not on data processing.</em></p>
<div class="admonition info">
<p class="admonition-title">Internal to NHS England</p>
<p>How to transform your tidy data into a publication style output example: <strong>From tidy to publication output</strong>.</p>
<p>This video can be found internal to NHS England within the RAP community of practice MS Teams page under:</p>
<p>Files &gt; COP video tutorials &gt; From tidy data to publication</p>
</div>
<h3 id="1-bad-column-headers-as-values-not-as-names">1. BAD: Column headers as values, not as names</h3>
<p>Using values instead of names as a column header is a quite common form of messy data, however it can be useful for specific cases and computations. In the table below, is an example of various occupations and number of people for each occupation and salary:</p>
<table>
<thead>
<tr>
<th>Occupation</th>
<th>&lt;£20k</th>
<th>£21k-£30k</th>
<th>£31k - £40k</th>
<th>£41k - £50k</th>
<th>£50k +</th>
</tr>
</thead>
<tbody>
<tr>
<td>IT</td>
<td>20</td>
<td>30</td>
<td>60</td>
<td>40</td>
<td>20</td>
</tr>
<tr>
<td>Teacher</td>
<td>30</td>
<td>40</td>
<td>50</td>
<td>40</td>
<td>35</td>
</tr>
<tr>
<td>Doctor</td>
<td>20</td>
<td>40</td>
<td>50</td>
<td>25</td>
<td>40</td>
</tr>
<tr>
<td>Software Dev</td>
<td>10</td>
<td>10</td>
<td>25</td>
<td>25</td>
<td>55</td>
</tr>
<tr>
<td>Solicitor</td>
<td>25</td>
<td>25</td>
<td>60</td>
<td>30</td>
<td>50</td>
</tr>
</tbody>
</table>
<p>In order to transform the table above into a tidier format, the columns are transformed into rows and into 2 columns/variables, one for income and one for number of people (example showing first rows for IT):</p>
<table>
<thead>
<tr>
<th>Occupation</th>
<th>Income</th>
<th>Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>IT</td>
<td>&lt;£20k</td>
<td>20</td>
</tr>
<tr>
<td>IT</td>
<td>£21k - £30k</td>
<td>30</td>
</tr>
<tr>
<td>IT</td>
<td>£31k - £40k</td>
<td>60</td>
</tr>
<tr>
<td>IT</td>
<td>£41k - £50k</td>
<td>40</td>
</tr>
<tr>
<td>IT</td>
<td>£50k +</td>
<td>20</td>
</tr>
<tr>
<td>Teacher</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>You can see that the data goes from wide to long.</p>
<h3 id="2-bad-multiple-variables-stored-in-one-column">2. BAD: Multiple variables stored in one column</h3>
<p>Sometimes a dataset can contain columns which are comprised of multiple underlying variables. In the example table below, data shows an imaginary count of patients in hospitals per region, grouped by gender and age, combined in one column. So for example, m1930 stands for male patients aged 19 to 30 years old.</p>
<table>
<thead>
<tr>
<th>Region</th>
<th>Year</th>
<th>m018</th>
<th>m1930</th>
<th>m3145</th>
<th>m4665</th>
<th>m6680</th>
<th>m81o</th>
<th>f018</th>
<th>f1930</th>
</tr>
</thead>
<tbody>
<tr>
<td>West Midlands</td>
<td>2010</td>
<td>2</td>
<td>5</td>
<td>15</td>
<td>20</td>
<td>25</td>
<td>20</td>
<td>4</td>
<td>6</td>
</tr>
<tr>
<td>London</td>
<td>2010</td>
<td>5</td>
<td>10</td>
<td>15</td>
<td>20</td>
<td>25</td>
<td>40</td>
<td>5</td>
<td>10</td>
</tr>
<tr>
<td>Yorkshire and the Humber</td>
<td>2010</td>
<td>3</td>
<td>9</td>
<td>8</td>
<td>4</td>
<td>20</td>
<td>23</td>
<td>3</td>
<td>9</td>
</tr>
<tr>
<td>North West</td>
<td>2010</td>
<td>5</td>
<td>10</td>
<td>15</td>
<td>12</td>
<td>17</td>
<td>15</td>
<td>2</td>
<td>8</td>
</tr>
</tbody>
</table>
<p>To break apart these columns, different approaches of processing can be used, depending on the column header such as breaking apart the string or if there are separators in the column name (e.g. _ or - or ;), capitals or any type of expression. The results of processing is show below, where the combined column of age and gender has broken into 2 separate variables and adding an extra column for the count of patients (first rows of West Midlands region):</p>
<table>
<thead>
<tr>
<th>Region</th>
<th>Year</th>
<th>Gender</th>
<th>Age</th>
<th>Cases</th>
</tr>
</thead>
<tbody>
<tr>
<td>West Midlands</td>
<td>2000</td>
<td>m</td>
<td>0 - 18</td>
<td>2</td>
</tr>
<tr>
<td>West Midlands</td>
<td>2000</td>
<td>m</td>
<td>19 - 30</td>
<td>5</td>
</tr>
<tr>
<td>West Midlands</td>
<td>2000</td>
<td>m</td>
<td>31 - 45</td>
<td>15</td>
</tr>
<tr>
<td>West Midlands</td>
<td>2000</td>
<td>m</td>
<td>46 - 65</td>
<td>20</td>
</tr>
<tr>
<td>West Midlands</td>
<td>2000</td>
<td>m</td>
<td>66 - 80</td>
<td>25</td>
</tr>
<tr>
<td>West Midlands</td>
<td>2000</td>
<td>m</td>
<td>81 +</td>
<td>20</td>
</tr>
<tr>
<td>West Midlands</td>
<td>2000</td>
<td>f</td>
<td>0 - 18</td>
<td>4</td>
</tr>
<tr>
<td>West Midlands</td>
<td>2000</td>
<td>f</td>
<td>19 - 30</td>
<td>6</td>
</tr>
</tbody>
</table>
<h3 id="3-bad-variables-stored-in-both-rows-and-columns">3. BAD: Variables stored in both rows and columns</h3>
<p>The next example can be confusing to tidy, as variables are stored in both rows and columns, so Weather station, Year, Month across Day1, Day2 columns and so forth, and tempmax/tempmin (Element column) stored in rows:</p>
<table>
<thead>
<tr>
<th>Weather station</th>
<th>Date</th>
<th>Month</th>
<th>Element</th>
<th>Day1</th>
<th>Day2</th>
<th>Day3...</th>
</tr>
</thead>
<tbody>
<tr>
<td>LS123</td>
<td>2018</td>
<td>1</td>
<td>tempmax</td>
<td>29</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>LS123</td>
<td>2018</td>
<td>1</td>
<td>tempmin</td>
<td>10</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>LS123</td>
<td>2018</td>
<td>2</td>
<td>tempmax</td>
<td>-</td>
<td>28</td>
<td>25</td>
</tr>
<tr>
<td>LS123</td>
<td>2018</td>
<td>2</td>
<td>tempmin</td>
<td>-</td>
<td>13</td>
<td>13</td>
</tr>
<tr>
<td>LS123</td>
<td>2018</td>
<td>3</td>
<td>tempmax</td>
<td>30</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>LS123</td>
<td>2018</td>
<td>3</td>
<td>tempmin</td>
<td>18</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>LS123</td>
<td>2018</td>
<td>4...</td>
<td>tempmax</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>To tidy this, a new column Date needs to be extracted from Year, Month and Day to correspond to each day of observation. Then variables minimum and maximum Temperatures for each date will be stored in two different columns:</p>
<table>
<thead>
<tr>
<th>Weather station</th>
<th>Date</th>
<th>tempmin</th>
<th>tempmax</th>
</tr>
</thead>
<tbody>
<tr>
<td>LS123</td>
<td>2018-01-01</td>
<td>10</td>
<td>23</td>
</tr>
<tr>
<td>LS123</td>
<td>2018-02-02</td>
<td>13</td>
<td>24</td>
</tr>
<tr>
<td>LS123</td>
<td>2018-02-03</td>
<td>13</td>
<td>25</td>
</tr>
<tr>
<td>LS123</td>
<td>2018-03-01</td>
<td>18</td>
<td>26</td>
</tr>
<tr>
<td>LS123</td>
<td>2018-04-24</td>
<td>17</td>
<td>27</td>
</tr>
<tr>
<td>LS123</td>
<td>2018-05-12</td>
<td>19</td>
<td>29</td>
</tr>
</tbody>
</table>
<p>This table is in a tidy format, there is one row for one day's observations and two new columns, one for each variable of the column Element.</p>
<h3 id="4-bad-multiple-types-of-observations-in-one-table">4. BAD: Multiple types of observations in one table</h3>
<p>The next example is subset of data from the top Billboard songs for each year. This data is not in a tidy format. Weeks 4 - 75 have been edited out for readability purposes. Here, there are several variables, Artist, Song Title, Duration, Date Entered, Week and Rank. (as both are the same for each week the song spent in the billboard.)</p>
<table>
<thead>
<tr>
<th>Year</th>
<th>Artist</th>
<th>Song Title</th>
<th>Duration</th>
<th>Date Entered</th>
<th>Week1</th>
<th>Week2</th>
<th>Week3</th>
</tr>
</thead>
<tbody>
<tr>
<td>1966</td>
<td>The Beatles</td>
<td>We Can Work It Out</td>
<td>3:00</td>
<td>1966-01-08</td>
<td>5</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>1966</td>
<td>The Beatles</td>
<td>Paperback Writer</td>
<td>3:30</td>
<td>1966-06-25</td>
<td>6</td>
<td>3</td>
<td>1</td>
</tr>
<tr>
<td>1966</td>
<td>The Beach Boys</td>
<td>Good Vibrations</td>
<td>3:00</td>
<td>1966-12-10</td>
<td>7</td>
<td>4</td>
<td>2</td>
</tr>
<tr>
<td>1966</td>
<td>The Lovin' Spoonful</td>
<td>Summer in the City</td>
<td>3:20</td>
<td>1966-08-13</td>
<td>3</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>1966</td>
<td>Four Tops</td>
<td>Reach Out I'll Be There</td>
<td>3:10</td>
<td>1966-10-15</td>
<td>9</td>
<td>3</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>Transforming this dataset into a tidy version would cause unnecessary duplication of observations (thus cancelling the 1 observation per row norm), in the table below. Imagine if Weeks 4-75 were not removed, so then we would have 72 rows of repeating the same Artist, Song Title and Duration variables. Date Entered has be edited to include the starting week of every week on the billboard:</p>
<table>
<thead>
<tr>
<th>Year</th>
<th>Artist</th>
<th>Song Title</th>
<th>Duration</th>
<th>Date Entered</th>
<th>Week</th>
<th>Rank</th>
</tr>
</thead>
<tbody>
<tr>
<td>1966</td>
<td>The Beach Boys</td>
<td>Good Vibrations</td>
<td>3:00</td>
<td>1966-12-10</td>
<td>1</td>
<td>7</td>
</tr>
<tr>
<td>1966</td>
<td>The Beach Boys</td>
<td>Good Vibrations</td>
<td>3:00</td>
<td>1966-12-17</td>
<td>2</td>
<td>4</td>
</tr>
<tr>
<td>1966</td>
<td>The Beach Boys</td>
<td>Good Vibrations</td>
<td>3:00</td>
<td>1966-12-24</td>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>1966</td>
<td>The Lovin' Spoonful</td>
<td>Summer in the City</td>
<td>3:20</td>
<td>1966-08-13</td>
<td>1</td>
<td>3</td>
</tr>
<tr>
<td>1966</td>
<td>The Lovin' Spoonful</td>
<td>Summer in the City</td>
<td>3:20</td>
<td>1966-08-20</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>1966</td>
<td>The Lovin' Spoonful</td>
<td>Summer in the City</td>
<td>3:20</td>
<td>1966-08-27</td>
<td>3</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>In this instance, it is recommended that the tidy dataset is split into two, one for each observational unit, the song title and the rank of the song:</p>
<p><strong>Table 1</strong></p>
<table>
<thead>
<tr>
<th>ID</th>
<th>Artist</th>
<th>Song Title</th>
<th>Duration</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>The Beatles</td>
<td>We Can Work It Out</td>
<td>3:00</td>
</tr>
<tr>
<td>2</td>
<td>The Beatles</td>
<td>Paperback Writer</td>
<td>3:30</td>
</tr>
<tr>
<td>3</td>
<td>The Beach Boys</td>
<td>Good Vibrations</td>
<td>3:00</td>
</tr>
<tr>
<td>4</td>
<td>The Lovin' Spoonful</td>
<td>Summer in the City</td>
<td>3:20</td>
</tr>
<tr>
<td>5</td>
<td>Four Tops</td>
<td>Reach Out I'll Be There</td>
<td>3:10</td>
</tr>
</tbody>
</table>
<p><strong>Table 2</strong></p>
<table>
<thead>
<tr>
<th>ID</th>
<th>Date Entered</th>
<th>Rank</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>1966-12-10</td>
<td>7</td>
</tr>
<tr>
<td>3</td>
<td>1966-12-17</td>
<td>4</td>
</tr>
<tr>
<td>3</td>
<td>1966-12-24</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>1966-08-13</td>
<td>3</td>
</tr>
<tr>
<td>4</td>
<td>1966-08-20</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>1966-08-27</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>This approach is useful for tidy data buts lacks in data processing tools' capabilities, so in that case these tables will have to be merged again.</p>
<h3 id="5-one-type-of-observational-unit-in-multiple-tables">5. One type of observational unit in multiple tables</h3>
<p>There are datasets that have multiple tables and variables and observational units that are spread throughout those tables. Or these tables change frequently over time. Or there are different approaches to data types, missing data, data formats for each of those tables.</p>
<p>In these cases, it is recommended that each table is 'tidied' up, and then combine each tidy table. To avoid any potential data duplication, adding an extra IDcolumn in each table as well as a column that records the original table/file's name will ensure that each row of data in the merged tidy table is labelled with its source table/file.</p>
<h2 id="diabetes-tidy-data-example">Diabetes tidy data example</h2>
<div class="admonition info">
<p class="admonition-title">Internal to NHS England</p>
<p>This video can be found internal to NHS England within the RAP community of practice MS Teams page under:</p>
<p>Files &gt; COP video tutorials &gt; Diabetes tidy example</p>
</div>
<p>In this video:</p>
<ul>
<li>SQL vs PySpark outputs comparison (messy vs tidy data)</li>
<li>Data shown in suppressed/published form and dummy data</li>
</ul>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 16, 2025</span>
      
    
  </small>
</div>





                

<details class="info" open="">
<summary><em>External Links Disclaimer</em></summary>
<p><em>NHS England makes every effort to ensure that external links are accurate, up to date and relevant, however we cannot take responsibility for pages maintained by external providers.</em></p>
<p><em>NHS England is not affiliated with any of the websites or companies in the links to external websites.</em></p>
<p><em>If you come across any external links that do not work, we would be grateful if you could report them by raising an issue on our <a href="https://github.com/NHSDigital/rap-community-of-practice/issues">RAP Community of Practice GitHub</a>.</em></p>
</details>


              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <head>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />
</head>

<!-- Code for the next arrow from Material for MkDocs -->
<footer class="md-footer">
   
  <nav
    class="md-footer__inner md-grid"
    aria-label="Footer"
    
  >
     
    <a
      href="../quality-assuring-analytical-outputs/"
      class="md-footer__link md-footer__link--prev"
      aria-label="Previous: Quality assuring analytical outputs"
      rel="prev"
    >
      <div class="md-footer__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </div>
      <div class="md-footer__title">
        <div class="md-ellipsis">
          <span class="md-footer__direction"> Previous </span>
          Quality assuring analytical outputs
        </div>
      </div>
    </a>
      
    <a
      href="../../publishing_code/how-to-publish-your-code-in-the-open/"
      class="md-footer__link md-footer__link--next"
      aria-label="Next: How to publish your code in the open"
      rel="next"
    >
      <div class="md-footer__title">
        <div class="md-ellipsis">
          <span class="md-footer__direction"> Next </span>
          How to publish your code in the open
        </div>
      </div>
      <div class="md-footer__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
      </div>
    </a>
    
  </nav>
  
</footer>

<footer class="footer">
  <div class="footer_left">
    <a href="mailto:england.rapchampions@nhs.net"><p>Contact Us</p></a>
    <p>Developed by <a href="https://www.england.nhs.uk/">NHS England</a></p>
  </div>

  <div class="legal">
    <div class="footer_left">
    <p>&copy; 2025 Crown Copyright (NHS England)</p>
    <p>All content is available under the
      <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence v3.0</a>, except where otherwise stated.
    </p>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["search.share", "content.code.annotate", "content.tabs.link", "navigation.tabs", "navigation.indexes", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="../../../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
    
  </body>
</html>