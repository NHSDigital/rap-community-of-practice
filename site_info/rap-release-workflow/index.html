
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../images/favicon/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>RAP Release Workflow - RAP Community of Practice</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--<type>:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14h-2V9h2m0 9h-2v-2h2M1 21h22L12 2 1 21Z"/></svg>');}</style>


    
    
    
    

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Arial:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Arial";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->



<!-- Header -->
<header class="md-header" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

<!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Link to home -->
    <a
      href="../.."
      title="RAP Community of Practice"
      class="md-header__button md-logo-nhs"
      aria-label="RAP Community of Practice"
      data-md-component="logo"
    >
      
  <img src="../../images/logo/nhs-blue-on-white.jpg" alt="logo">

    </a>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RAP Community of Practice
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              RAP Release Workflow
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/NHSDigital/rap-community-of-practice" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    RAP Community of Practice
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../introduction_to_RAP/what_is_RAP/" class="md-tabs__link">
        What is RAP?
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../our_RAP_service/" class="md-tabs__link">
        Our RAP service
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../implementing_RAP/" class="md-tabs__link">
        Implementing RAP
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../training_resources/" class="md-tabs__link">
        Training resources
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../tags/" class="md-tabs__link">
      Tags
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../about/" class="md-tabs__link md-tabs__link--active">
        Site info
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="RAP Community of Practice" class="md-nav__button md-logo" aria-label="RAP Community of Practice" data-md-component="logo">
      
  <img src="../../images/logo/nhs-blue-on-white.jpg" alt="logo">

    </a>
    RAP Community of Practice
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/NHSDigital/rap-community-of-practice" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    RAP Community of Practice
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          What is RAP?
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="What is RAP?" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          What is RAP?
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction_to_RAP/what_is_RAP/" class="md-nav__link">
        What is RAP?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction_to_RAP/why_RAP_is_important/" class="md-nav__link">
        Why RAP is important
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction_to_RAP/levels_of_RAP/" class="md-nav__link">
        Levels of RAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction_to_RAP/gov-policy-on-rap/" class="md-nav__link">
        Government policy on RAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction_to_RAP/what-is-open-source/" class="md-nav__link">
        What is open source?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction_to_RAP/history_of_RAP/" class="md-nav__link">
        The history of RAP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction_to_RAP/RAP_in_health/" class="md-nav__link">
        RAP in health
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../our_RAP_service/">Our RAP service</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Our RAP service" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Our RAP service
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../our_RAP_service/building_team_capability/" class="md-nav__link">
        Building team capability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../our_RAP_service/support-models/" class="md-nav__link">
        Support models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../our_RAP_service/typical-engagement-flow/" class="md-nav__link">
        Typical engagement flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../our_RAP_service/rap-pre-engagement-questionnaire/" class="md-nav__link">
        RAP pre-engagement Questionnaire
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../our_RAP_service/programme-level-reporting/" class="md-nav__link">
        Programme level reporting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../our_RAP_service/service-design-and-user-research/" class="md-nav__link">
        Service design and user research
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../implementing_RAP/">Implementing RAP</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Implementing RAP" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Implementing RAP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/rap-readiness/" class="md-nav__link">
        Are you ready for RAP?
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Technical Skills for RAP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Technical Skills for RAP" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Technical Skills for RAP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/skills_for_rap/git_for_rap/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/skills_for_rap/python_for_rap/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/skills_for_rap/r_for_rap/" class="md-nav__link">
        R
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/process_mapping/" class="md-nav__link">
        Process Mapping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/thin-slice-strategy/" class="md-nav__link">
        Thin slice strategy
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_6">
          Workflow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Workflow" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Workflow
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/workflow/technical-workflow/" class="md-nav__link">
        Technical workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/workflow/tools/" class="md-nav__link">
        Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/workflow/coding-best-practice/" class="md-nav__link">
        Coding best practice
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/workflow/code-review/" class="md-nav__link">
        Code review
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/workflow/notebooks_versus_ide_development/" class="md-nav__link">
        Notebooks vs IDE development
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/workflow/accessibility-how-to/" class="md-nav__link">
        Guidance on accessibility
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/workflow/quality-assuring-analytical-outputs/" class="md-nav__link">
        Quality assuring analytical outputs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/workflow/tidy-data/" class="md-nav__link">
        Tidy data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" type="checkbox" id="__nav_4_7" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_7">
          Publishing Code
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Publishing Code" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_7">
          <span class="md-nav__icon md-icon"></span>
          Publishing Code
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/publishing_code/how-to-publish-your-code-in-the-open/" class="md-nav__link">
        How to publish your code in the open
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/publishing_code/updating-your-published-code/" class="md-nav__link">
        Updating published code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/publishing_code/licensing-your-code/" class="md-nav__link">
        Licensing your code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/example-pipeline/" class="md-nav__link">
        Example Pipeline (Python)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/support/" class="md-nav__link">
        Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../implementing_RAP/useful_links/" class="md-nav__link">
        Useful Links
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../training_resources/">Training resources</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Training resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Training resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Git
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Git" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Git
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/introduction-to-git/" class="md-nav__link">
        Introduction to Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/using-git-collaboratively/" class="md-nav__link">
        Using Git collaboratively
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/making-code-discoverable/" class="md-nav__link">
        Making code discoverable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/githooks/" class="md-nav__link">
        Git Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/github_gitlab_terminology/" class="md-nav__link">
        GitHub vs GitLab Terminology
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2_6" type="checkbox" id="__nav_5_2_6" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2_6">
          Quick Start Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Quick Start Guides" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_2_6">
          <span class="md-nav__icon md-icon"></span>
          Quick Start Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/quick_start_guides/git_quick_start_guide/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/quick_start_guides/github_quick_start_guide/" class="md-nav__link">
        GitHub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/quick_start_guides/gitlab_quick_start_guide/" class="md-nav__link">
        GitLab
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2_7" type="checkbox" id="__nav_5_2_7" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2_7">
          Walkthroughs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Walkthroughs" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_2_7">
          <span class="md-nav__icon md-icon"></span>
          Walkthroughs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/git_walkthroughs/committing_work_walkthrough/" class="md-nav__link">
        Committing Work
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/git_walkthroughs/working_with_branches_walkthrough/" class="md-nav__link">
        Working with Branches
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/git/git_walkthroughs/pull_and_merge_requests_walkthrough/" class="md-nav__link">
        Pull and Merge Requests
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/intro-to-python/" class="md-nav__link">
        Intro to Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/basic-python-data-analysis-operations/" class="md-nav__link">
        Basic Python data analysis operations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/python-functions/" class="md-nav__link">
        Python functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/visualisation-in-python/" class="md-nav__link">
        Visualisation in Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/handling-file-paths/" class="md-nav__link">
        Handling file paths
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/logging-and-error-handling/" class="md-nav__link">
        Logging and error handling in Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/project-structure-and-packaging/" class="md-nav__link">
        Project structure and packaging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/config-files/" class="md-nav__link">
        Using config files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/data-classes/" class="md-nav__link">
        Data Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3_10" type="checkbox" id="__nav_5_3_10" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3_10">
          Virtual environments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Virtual environments" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_3_10">
          <span class="md-nav__icon md-icon"></span>
          Virtual environments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/virtual-environments/why-use-virtual-environments/" class="md-nav__link">
        Why use virtual environments?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/virtual-environments/venv/" class="md-nav__link">
        Venv
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/virtual-environments/conda/" class="md-nav__link">
        Conda
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/unit-testing/" class="md-nav__link">
        Unit testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/unit-testing-field-definitions/" class="md-nav__link">
        Unit testing field definitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/python/backtesting/" class="md-nav__link">
        Back testing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../training_resources/pyspark/">PySpark</a>
          
            <label for="__nav_5_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="PySpark" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          PySpark
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/pyspark/logging-and-error-handling/" class="md-nav__link">
        Logging and error handling in PySpark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/pyspark/pyspark-style-guide/" class="md-nav__link">
        PySpark style guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/pyspark/pyspark-tutorial/" class="md-nav__link">
        PySpark starter script
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/pyspark/efficient-pyspark-case-study/" class="md-nav__link">
        Efficient Pyspark Case Study
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../training_resources/R/">R</a>
          
            <label for="__nav_5_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="R" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          R
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/R/git_with_RStudio/" class="md-nav__link">
        Git with RStudio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_6" type="checkbox" id="__nav_5_6" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_6">
          Coding Tips
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Coding Tips" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_6">
          <span class="md-nav__icon md-icon"></span>
          Coding Tips
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/coding_tips/when-to-stop-coding/" class="md-nav__link">
        When to stop coding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../training_resources/coding_tips/refactoring-guide/" class="md-nav__link">
        Refactoring golden rules
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        Tags
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7">
          Site info
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Site info" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Site info
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../acknowledgements/" class="md-nav__link">
        Acknowledgements
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Website Release Process
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Website Release Process
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#current-release-process-coding-in-the-open" class="md-nav__link">
    Current Release Process (coding in the open)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#old-release-process-two-repos-one-private-one-public" class="md-nav__link">
    Old release process (two repos, one private, one public)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#action-1-copy-release-to-public-rap-cop-repo" class="md-nav__link">
    Action 1 - Copy Release to Public RAP CoP Repo
  </a>
  
    <nav class="md-nav" aria-label="Action 1 - Copy Release to Public RAP CoP Repo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-checkout-private" class="md-nav__link">
    Step 1 - Checkout private
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-checkout-public" class="md-nav__link">
    Step 2 - Checkout public
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-read-the-release-name-and-save-it-to-the-environment" class="md-nav__link">
    Step 3 - Read the release name and save it to the environment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#action-2-create-pull-request-for-release-branch" class="md-nav__link">
    Action 2 - Create Pull Request for Release Branch
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#action-3-create-a-release" class="md-nav__link">
    Action 3 - Create a Release
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#action-4-build-and-deploy-website-pages" class="md-nav__link">
    Action 4 - Build and Deploy Website Pages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-rap-release-workflow" class="md-nav__link">
    Alternative RAP Release Workflow
  </a>
  
    <nav class="md-nav" aria-label="Alternative RAP Release Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#action-1-push-release-to-public-rap-cop-repo" class="md-nav__link">
    Action 1 - Push Release to Public RAP CoP Repo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-2-to-4" class="md-nav__link">
    Action 2 to 4
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../repo_traffic_information/" class="md-nav__link">
        GitHub Repository Traffic Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                


    <h1 class="header-with-tags"> RAP Release Workflow </h1>
    

    

                  
  

  <nav class="md-tags" >
    
      
      
        <a href="../../tags/#rap-cop-website" class="md-tag">RAP CoP website</a>
      
    
  </nav>



  <a href="https://github.com/NHSDigital/rap-community-of-practice/edit/main/docs/site_info/rap-release-workflow.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="_1"></h1>
<h2 id="current-release-process-coding-in-the-open">Current Release Process (coding in the open)</h2>
<p>The new release workflow for the RAP Community of Practice is very simple.</p>
<pre class="mermaid"><code>flowchart TD
    Z[make a branch or fork of the repo]--&gt;A
    A[make changes on the branch or fork of the repo]--&gt;B[when complete make a pull request in main branch of this repo];
    B--&gt;C[pull request checked];
    C--&gt;F[approved and changes merged into the main branch];
    C--Feed back given--&gt;E[Make required changes];
    E--&gt;C;
    F--At a significant milestone--&gt;D[a release is made, bumping up the version of the repo and updating the visible website];</code></pre>
<p>It's important to note that the website is not built off the "main" branch - but instead it builds "on release".</p>
<p>This is described fully in the github action that builds the website: <a href="https://github.com/NHSDigital/rap-community-of-practice/blob/main/.github/workflows/pages-build-deployment.yml">pages-build-deployment</a></p>
<h2 id="old-release-process-two-repos-one-private-one-public">Old release process (two repos, one private, one public)</h2>
<div class="admonition warning">
<p class="admonition-title">The release process below is no longer in use!</p>
<ul>
<li>The RAP Community of Practice now uses a very simple release process - fully coded in the open.</li>
<li>This page mostly details our old release process, where we had a hidden "dev" repo, which published to this public repo on release - we're leaving this guide up here so people can learn from it and use it (it would be useful for more sensitive work)</li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">TLDR</p>
<ul>
<li>The RAP Community of Practice has embraced CI/CD by implementing an automated release process that uses GitHub Actions to move guidances written and reviewed in our private (<a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a>) repository to the public (<a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a>) repository.</li>
<li>The RAP Release workflow ensures control, flexibility, and consistency in the RAP CoP's releases.</li>
<li>Key Steps:<ul>
<li>The contents of the release are copied from the private to the public repository.</li>
<li>A pull request is created for the release for final merge approval to the main branch.</li>
<li>The website pages are deployed using MkDocs when the release is merged into the main branch.</li>
</ul>
</li>
<li>Detailed YAML configurations and flowcharts explain each step in this RAP Release Workflow Guide.</li>
</ul>
</div>
<p>The RAP Community of Practice exists on two repositories. The public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a>, where anyone can view our guidance, and the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a>, where guidance is written and reviewed before being published to the public repository. The public repository is then converted using <a href="https://www.mkdocs.org/">MkDocs</a> to HTML and hosted by <a href="https://pages.github.com/">GitHub pages</a> as our <a href="https://nhsdigital.github.io/rap-community-of-practice/">RAP Community of Practice website</a>.</p>
<p>The RAP Release Workflow allows the RAP Team to:</p>
<ul>
<li>Automate a repetitive but simple process with manual intervention</li>
<li>Control when the release process occurs</li>
<li>Easily maintain and change the process if required</li>
</ul>
<p>The release process uses GitHub Actions to execute. GitHub Actions is a continuous integration and continuous delivery (CI/CD) platform that allows automation of processes. A highly beneficial feature of GitHub Actions is the ability to automatically run workflows when events happen in your GitHub repository; in our case, when a release is published, a branch is pushed to, a pull request is closed and merged, and a directory is updated.</p>
<p>The GitHub Actions are written using the YAML markdown language to execute, in this case:</p>
<ul>
<li>Pre-defined GitHub Actions, such as <a href="https://github.com/marketplace/actions/checkout"><code>actions/checkout@v3</code></a>.</li>
<li>Shell scripts that run Bash, git, and GitHub CLI commands.</li>
</ul>
<p>Other functionality, like setting up and using Docker containers, can be explored in the <a href="https://docs.github.com/en/actions">GitHub Actions documentation</a>.</p>
<p>The process is made up of four distinct steps. One that runs on the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a> and the other three that run on the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a>. The first figure below shows a Git Flow Overview of the deployment process and where the four actions are involved. The second figure below shows a flowchart of the release process, roughly summarising the steps within the actions.</p>
<p><img alt="&quot;Git Process Overview&quot;" src="../../images/overview-of-publishing-workflows.png" title="Git Process Overview" /></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For clarity and simplicity, the Git Process diagram shows Action 3 executing before Action 4. They will execute roughly simultaneously in practice, although slightly different events trigger them.</p>
<p>The Release Process Flowchart (below) more accurately depicts the process flow.</p>
</div>
<p><img alt="&quot;Release Process Flowchart&quot;" src="../../images/flowchart.png" title="Release Process Flowchart" /></p>
<h2 id="action-1-copy-release-to-public-rap-cop-repo">Action 1 - <a href="https://github.com/NHSDigital/rap-community-of-practice/blob/main/.github/workflows/copy-release-to-public.yml">Copy Release to Public RAP CoP Repo</a></h2>
<p><img alt="&quot;Action 1 - copy-release-to-public flowchart&quot;" src="../../images/flowchart-action-1.png" title="Action 1 - copy-release-to-public flowchart" /></p>
<p>Action 1 is kicked off by creating and publishing a release to the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a>. The release tags the repository with the semantic version number, e.g. v1.2.3.</p>
<p>Action 1 can also be manually dispatched in GitHub (or via an API call) due to the addition of the <code>workflow_dispatch</code> event trigger.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>on:
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>  release:
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    types: [published]
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>  workflow_dispatch:
</code></pre></div>
<p>Action 1 executes one job, called <code>copy-release</code>. This job runs on the latest version of Ubuntu available through GitHub Actions, denoted by the <code>runs-on:</code> key. It is possible to run multiple jobs, some that run in parallel.</p>
<p>GitHub Actions provides the <a href="https://docs.github.com/en/actions/using-jobs/using-conditions-to-control-job-execution">conditional <code>if</code></a> key to control when a job executes. Here, we only want it to execute in the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a>, so we check if the action is executing in it. If it weren't here, it would trigger this action again when we eventually publish a release in the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a>. Instead, it will skip running this job when running in the wrong repository.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>jobs:
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>  copy-release:
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    runs-on: &quot;ubuntu-latest&quot;
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    if: github.repository == &#39;NHSDigital/RAP_CoP_dev&#39;
</code></pre></div>
<p>The <code>push-release</code> job contains nine steps.</p>
<h3 id="step-1-checkout-private">Step 1 - Checkout private</h3>
<p>The first, <code>Checkout private</code>, uses the pre-existing <a href="https://github.com/marketplace/actions/checkout"><code>actions/checkout@v3</code></a> action provided by GitHub. This action clones a repository (by default, the repository the action is executing in) and configures git to be ready to use in the Action's running environment.</p>
<p>The <code>with:</code> key allows users to specify settings for executing the <code>actions/checkout@v3</code>. In this case, there are three, <code>token</code> and <code>path</code>.</p>
<p><code>token</code> is used to set the <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">Personal Access Token</a> (PAT) that is used to configure git in the running environment. It is used not only to checkout the code but also in future git commands. By default, it uses <code>${{ github.token }}</code>, which is a <a href="https://docs.github.com/en/actions/security-guides/automatic-token-authentication">automatically generated PAT</a> with access scoped to the Action's current repository. We need to access another repository in later steps, so we use <code>${{ secrets.EXTERNAL_REPO_TOKEN }}</code>. This is stored in the <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets">repositories' secrets</a>.</p>
<p><code>path</code> specifies the relative path to place the repository. Usually, it is the current directory (<code>path = ''</code>). However, we want to checkout two repositories, which means we will set it to <code>private</code> to put it in that folder.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>steps:
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>  - name: Checkout private
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    uses: actions/checkout@v3
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    with:
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>      token: ${{ secrets.EXTERNAL_REPO_TOKEN }}
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>      path: private
</code></pre></div>
<h3 id="step-2-checkout-public">Step 2 - Checkout public</h3>
<p>With the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a> repository checked out, we move on to the second step of the <code>push-release</code> job, which checks out the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a> repository into the folder <code>public</code>. Like above, we set <code>token</code> and <code>path</code> to the <code>${{ secrets.EXTERNAL_REPO_TOKEN }}</code> and <code>public</code>, respectively. However, we also set <code>repository</code> to <code>NHSDigital/rap-community-of-practice</code>. This is the repository we want to checkout. By default is the current repository the action is running in, <code>${{ github.repository }}</code>, but in this step, we are checking out the public repository, so set the value as specified.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>- name: Checkout public
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>  uses: actions/checkout@v3
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>  with:
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    token: ${{ secrets.EXTERNAL_REPO_TOKEN }}
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    repository: NHSDigital/rap-community-of-practice
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    path: public
</code></pre></div>
<h3 id="step-3-read-the-release-name-and-save-it-to-the-environment">Step 3 - Read the release name and save it to the environment</h3>
<p>The third step of the <code>copy-release</code> job reads the latest release name for the private repository using the <a href="https://cli.github.com/manual/">GitHub CLI</a>. This is all done using the <code>run:</code> key that allows Bash shell code to be run. The <code>|</code> enables multiple lines of code to be executed together.</p>
<p>The second line does a number of things:</p>
<ol>
<li>It uses the <a href="https://cli.github.com/manual/">GitHub CLI</a> command <a href="https://cli.github.com/manual/gh_release_view"><code>gh release view</code></a> without a specified release tag to read the latest release from the current GitHub repository. The <code>--json name</code> flag argument will result in the being a JSON object that only includes the release name.</li>
<li>The returned JSON object is then piped into the <a href="https://stedolan.github.io/jq/">jq</a> command-line JSON processor, which extracts the name key, with the <code>-r</code> flag returning it as a raw string with no quotation marks.</li>
<li>The name string is then assigned to the <code>RELEASE_NAME</code> variable and then echoed out to the action's environment, <code>$GITHUB_ENV</code>, where later steps can access it.</li>
</ol>
<p>The second line builds the <code>RELEASE_BRANCH</code> variable by prefixing 'release/' to the <code>RELEASE_NAME</code>. This is standard practice to denote the branch type clearly.</p>
<p>Line three creates the release branch, with the following lines pushing the branch and setting the upstream to the private (alias <code>origin</code>) and public (alias <code>public</code>) remote repositories.</p>
<p><a href="https://cli.github.com/manual/">GitHub CLI</a> can be configured to authenticate using the <code>gh auth login</code> command or will use the <code>GITHUB_TOKEN</code> environment variable. The environment variable is used and set with the <code>env:GITHUB_TOKEN</code> key to use the <code>EXTERNAL_REPO_TOKEN</code> PAT. The default <code>GITHUB_TOKEN</code> could also be used but is not used for consistency with earlier steps.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>- name: Read the release name and create a branch. Push branch to private and public.
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>  run: |
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    RELEASE_NAME=$(gh release view --json name | jq -r &#39;.name&#39;)
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    RELEASE_BRANCH=release/$RELEASE_NAME
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    git branch $RELEASE_BRANCH
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    git push -u origin $RELEASE_BRANCH
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    git push -u public $RELEASE_BRANCH
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>  env:
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    GITHUB_TOKEN: ${{ secrets.EXTERNAL_REPO_TOKEN }}
</code></pre></div>
<h2 id="action-2-create-pull-request-for-release-branch">Action 2 - <a href="https://github.com/NHSDigital/rap-community-of-practice/blob/main/.github/workflows/create-release-pr.yml">Create Pull Request for Release Branch</a></h2>
<p><img alt="&quot;Action 2 - create-release-pr flowchart&quot;" src="../../images/flowchart-action-2.png" title="Action 2 - create-release-pr flowchart" /></p>
<p>Action 2 is kicked off manually with a <code>workflow_dispatch</code> event or a push to a branch matching the pattern <code>release/*</code>. Therefore, Action 1 should trigger Action 2.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>on:
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>  push:
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    branches:
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>      - release/*
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>  workflow_dispatch:
</code></pre></div>
<p>Action 2 has a single job, <code>create_pr</code>, which runs on the latest version of Ubuntu available, like Action 1.</p>
<p>It has a conditional <code>if</code> statement that checks that it is running in the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a> repository. It does not need to run on the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a> repository, as the release branch is a snapshot of the current main repository.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>jobs:
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>  create_pr:
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    runs-on: ubuntu-latest
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    if: github.repository == &#39;NHSDigital/rap-community-of-practice&#39;
</code></pre></div>
<p>The <code>create_pr</code> job has two steps. The first step is to checkout the current repository using <a href="https://github.com/marketplace/actions/checkout"><code>actions/checkout@v3</code></a>. As the event was triggered by a push to release the branch, that branch will be checked out by default. A <code>fetch-depth</code> of 0 is used to get the complete commit history and allow git to determine the differences between the release branch and the main branch on the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a> repository.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>steps:
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>  - uses: actions/checkout@v3
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    with:
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>      fetch-depth: 0
</code></pre></div>
<p>The next step runs the <a href="https://cli.github.com/manual/">GitHub CLI</a> command <a href="https://cli.github.com/manual/gh_pr_create"><code>gh pr create</code></a> to create a pull request to merge the release branch into main. The <code>--fill</code> flag will prompt the command to use the commit info to populate the pull request's title or body. If there is one commit, the commit summary will be the title. If there are multiple commits, the branch name is used as the PR title.</p>
<p>Like in Action 1, the <a href="https://cli.github.com/manual/">GitHub CLI</a> commands use the <code>GITHUB_TOKEN</code> environment variable to authenticate; however, Action 2 does not need to access another repository at any point, so the automatically created <code>GITHUB_TOKEN</code> can be used.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>- name: Create Pull Request
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>  run: |
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>    gh pr create --fill
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>  env:
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
</code></pre></div>
<p>The pull request must be manually reviewed and approved before it is merged into the main branch. Approving the pull request will trigger Action 3, and updating the docs directory on the main branch will trigger Action 4.</p>
<h2 id="action-3-create-a-release">Action 3 - <a href="https://github.com/NHSDigital/rap-community-of-practice/blob/main/.github/workflows/create-release.yml">Create a Release</a></h2>
<p><img alt="&quot;Action 3 - create-release flowchart&quot;" src="../../images/flowchart-action-3.png" title="Action 3 - create-release flowchart" /></p>
<p>Action 3 is only triggered when a pull request is closed. This is because it requires the Pull Request's source branch to name the release branch.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>on:
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>  pull_request:
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    types:
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>      - closed
</code></pre></div>
<p>Action 3 has one job, <code>release-if-merged</code>, which runs on the latest version of Ubuntu. There are a number of conditions that all need to be met to ensure that the action executes:</p>
<ul>
<li><code>github.event.pull_request.merged == true</code> ensures that the Pull Request was closed with a merge, not for another reason (e.g. the branch was deleted)</li>
<li><code>startsWith(github.head_ref, 'release/v')</code> ensures that the source branch for the Pull Request was a release branch.</li>
<li><code>github.repository == 'NHSDigital/rap-community-of-practice'</code> ensures that the release is being created in the correct repository, the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a>. It should not execute in the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a> repository as it already has the release.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>jobs:
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>  release-if-merged:
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    if: |
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>      github.event.pull_request.merged == true &amp;&amp; 
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>      startsWith(github.head_ref, &#39;release/v&#39;) &amp;&amp;
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>      github.repository == &#39;NHSDigital/rap-community-of-practice&#39;
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>    runs-on: ubuntu-latest
</code></pre></div>
<p>The first step of <code>release-if-merged</code> uses the default <code>actions/checkout@v3</code> as the standard token can be used, as only the current repository is accessed, and a snapshot of the current repository state is needed (<code>fetch-depth: 1</code>) to create the release.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>steps:
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>  - name: Checkout code
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    uses: actions/checkout@v3
</code></pre></div>
<p>The next step of the <code>release-if-merged</code> repository extracts the version information from the source branch of the Pull Request, which is stored in the HEAD_REF environment variable <code>HEAD_REF</code>. It then assigns it to the locally scoped <code>RELEASE_NAME</code> variable. The <a href="https://cli.github.com/manual/">GitHub CLI</a> command <a href="https://cli.github.com/manual/gh_release_create"><code>gh release create</code></a> is then run, which creates a release. The <code>RELEASE_NAME</code> variable is then used to provide the <code>tag</code> value and the <code>title</code> of the release, with the rest of the release automatically populated.</p>
<p>Two environment variables are defined for this step:</p>
<ul>
<li><code>GITHUB_TOKEN</code>, which uses the automatically generated PAT</li>
<li><code>HEAD_REF</code>, which captures the head_ref value that is assigned when a pull request triggers an action.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>- name: Get Release Name from PR Branch Name and create a release
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>  run: |
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    RELEASE_NAME=${HEAD_REF//release\//}
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    gh release create $RELEASE_NAME -t $RELEASE_NAME
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>  env:
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>    HEAD_REF: ${{ github.head_ref }}
</code></pre></div>
<p>A release with the matching version to the release on the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a> repository should now be published on the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a> repository with the changes made since the last release.</p>
<h2 id="action-4-build-and-deploy-website-pages">Action 4 - <a href="https://github.com/NHSDigital/rap-community-of-practice/blob/main/.github/workflows/pages-build-deployment.yml">Build and Deploy Website Pages</a></h2>
<p><img alt="&quot;Action 4 - pages-build-deployment flowchart&quot;" src="../../images/flowchart-action-4.png" title="Action 4 - pages-build-deployment flowchart" /></p>
<p>Action 4, is triggered on a push to the main branch with changes to the docs directory. It can also be triggered manually via a workflow_dispatch.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>on:
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>  push:
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    branches:
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>      - &quot;main&quot;
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    paths:
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>      - &quot;docs/**&quot;
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>  workflow_dispatch:
</code></pre></div>
<p>This action only has one job, <code>deploy</code>, which runs on the latest version of Ubuntu. No conditions are used, meaning the action can run on both the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a> and private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a> repositories. We don't mind if the action runs on the private repository; it is more of a nice-to-have, but the action must run on the public repository to ensure the <a href="https://nhsdigital.github.io/rap-community-of-practice/">RAP Community of Practice website</a> is updated.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>jobs:
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>  deploy:
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    runs-on: ubuntu-latest
</code></pre></div>
<p>The repository is checked out with the <code>actions/checkout</code> command with the default settings as the first step of the <code>deploy</code> job.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>steps:
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>  - uses: actions/checkout@v3
</code></pre></div>
<p>The second and third steps set up the Python environment. Step two, <code>actions/setup-python</code>, installs python into the GitHub Action environment. The version specified by the <code>python-version</code> key, with the <code>3.X</code> specification, which is the latest stable major version of Python 3.</p>
<p>Step three calls pip, the in-built Python package manager. Pip is instructed to install the packages listed in the requirements.txt file. This file includes the packages required to run <a href="https://www.mkdocs.org/">MkDocs</a> in the next step.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>- uses: actions/setup-python@v2
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>  with:
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    python-version: 3.x
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>- run: pip install -r requirements.txt
</code></pre></div>
<p>The final step runs <code>mkdocs gh-deploy</code>, which commands MkDocs to build the <a href="https://nhsdigital.github.io/rap-community-of-practice/">RAP Community of Practice website</a> from the markdown pages in the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a> repository and then push to the <code>gh-pages</code> branch. This branch is then used to display the website via <a href="https://pages.github.com/">GitHub pages</a>.</p>
<p>Three flags are parsed with the command:</p>
<ul>
<li><code>--force</code>: Forces the push</li>
<li><code>--clean</code>: Removes old files from the website that are no longer in the <code>mkdocs.yml</code> file.</li>
<li><code>--verbose</code>: Provides a more verbose command output for debugging.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>- run: mkdocs gh-deploy --force --clean --verbose
</code></pre></div>
<h2 id="alternative-rap-release-workflow">Alternative RAP Release Workflow</h2>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This section of the documentation outlines a previous attempt at implementing an automated release process. This process relied on adding the target public repository as a temporary additional remote to the source private repository.
Unfortunately, this process failed to work as the git histories were incompatibly different and weren't like forks of each other.
This led to the current process detailed above being developed, which bypasses this issue completely.</p>
<p>While it is not used in the RAP Community of Practice, it is still a viable deployment method for repositories with a common git history. Therefore, we have provided the documentation for this process.</p>
</div>
<p>The process is made up of 4 distinct steps. One that runs on the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a> and the other three that run on the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a>. The first figure below shows a Git Flow Overview of the deployment process and where the four actions are involved. The second figure below shows a flowchart of the release process, roughly summarising the steps within the actions.</p>
<p><img alt="&quot;Git Process Overview&quot;" src="../../images/overview-of-publishing-workflows-push.png" title="Git Process Overview" /></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For clarity and simplicity, the Git Process diagram shows Action 3 executing before Action 4. They will execute roughly simultaneously in practice, although slightly different events trigger them.</p>
<p>The Release Process Flowchart (below) more accurately depicts the process flow.</p>
</div>
<p><img alt="&quot;Release Process Flowchart&quot;" src="../../images/flowchart-push.png" title="Release Process Flowchart" /></p>
<h3 id="action-1-push-release-to-public-rap-cop-repo">Action 1 - <a href="https://github.com/NHSDigital/rap-community-of-practice/blob/main/.github/workflows/push-release-to-public.yml">Push Release to Public RAP CoP Repo</a></h3>
<p><img alt="&quot;Action 1 - push-release-to-public flowchart&quot;" src="../../images/flowchart-action-1-push.png" title="Action 1 - push-release-to-public flowchart" /></p>
<p>Action 1 is kicked off by creating and publishing a release to the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a>. The release tags the repository with the semantic version number, e.g. v1.2.3.</p>
<p>Action 1 can also be manually dispatched in GitHub (or via an API call) due to the addition of the <code>workflow_dispatch</code> event trigger.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>on:
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>  release:
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    types: [published]
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>  workflow_dispatch:
</code></pre></div>
<p>Action 1 executes one job called <code>push-release</code>. This job runs on the latest version of Ubuntu available through GitHub Actions, denoted by the <code>runs-on:</code> key. It is possible to run multiple jobs, some of which run in parallel.</p>
<p>GitHub Actions provides the <a href="https://docs.github.com/en/actions/using-jobs/using-conditions-to-control-job-execution">conditional <code>if</code></a> key to control when a job executes. Here, we only want it to execute in the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a>, so we check if the action is executing in it. If it weren't here, it would trigger this action again when we eventually publish a release in the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a>. Instead, it will skip running this job when running in the wrong repository.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>jobs:
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>  push-release:
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    runs-on: &quot;ubuntu-latest&quot;
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    if: github.repository == &#39;NHSDigital/RAP_CoP_dev&#39;
</code></pre></div>
<p>The <code>push-release</code> job contains three steps. The first, <code>Checkout code</code>, uses the pre-existing <a href="https://github.com/marketplace/actions/checkout"><code>actions/checkout@v3</code></a> action provided by GitHub. This action clones a repository (by default, the repository the action is executing in) and configures git to be ready to use in the Action's running environment.</p>
<p>The <code>with:</code> key allows users to specify settings for executing the <code>actions/checkout@v3</code>. In this case, there are two, <code>token</code> and <code>fetch-depth</code></p>
<p><code>token</code> is used to set the <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">Personal Access Token</a> that is used to configure git in the running environment. It is used not only to checkout the code but also in future git commands. By default, it uses <code>${{ github.token }}</code>, which is a <a href="https://docs.github.com/en/actions/security-guides/automatic-token-authentication">automatically generated PAT</a> with access scoped to the Action's current repository. We need to access another repository in later steps, so we use <code>${{ secrets.EXTERNAL_REPO_TOKEN }}</code>. This is stored in the <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets">repositories' secrets</a>.</p>
<p><code>fetch-depth</code> specifies the number of previous commits to fetch, which by default is 1. This is called a shallow fetch and is normally perfectly fine as it provides a lightweight snapshot of the current repository state. However, a shallow fetch is undesirable here because when we push the release branch to the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a> repository, git will not have sufficient commit history to compare differences between the incoming release branch and the current state of the main branch.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>steps:
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>  - name: Checkout code
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    uses: actions/checkout@v3
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    with:
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>      token: ${{ secrets.EXTERNAL_REPO_TOKEN }}
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>      fetch-depth: 0
</code></pre></div>
<p>With the private <a href="https://github.com/NHSDigital/RAP_CoP_dev">RAP_CoP_dev</a> repository checked out, we move on to the second step of the <code>push-release</code> job, which adds the public <a href="https://github.com/NHSDigital/rap-community-of-practice">rap-community-of-practice</a> repository as a new remote with the alias <code>public</code>. This will allow us to push (and fetch) from both repositories.</p>
<p><code>git remote -v</code> provides debugging information by printing the currently set remote repositories. It should show the private and public repository URLs with fetch and push permissions using the <code>origin</code> and <code>public</code> aliases, respectively.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>- name: Add the public repository as a remote
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>  run: |
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>    git remote add public https://github.com/NHSDigital/rap-community-of-practice.git
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>    git remote -v
</code></pre></div>
<p>The final step of the <code>push-release</code> job reads the latest release name, creates a branch named after the release, and pushes that branch to both repositories. This is all done using the <code>run:</code> key that allows Bash shell code to be run. The <code>|</code> enables multiple lines of code to be executed together.</p>
<p>The first line does a number of things:</p>
<ol>
<li>It uses the <a href="https://cli.github.com/manual/">GitHub CLI</a> command <a href="https://cli.github.com/manual/gh_release_view"><code>gh release view</code></a> without a specified release tag to read the latest release from the current GitHub repository. The <code>--json name</code> flag argument will result in the being a JSON object that includes the release name.</li>
<li>The returned JSON object is then piped into the <a href="https://stedolan.github.io/jq/">jq</a> command-line JSON processor, which extracts the name key, with the <code>-r</code> flag returning it as a raw string with no quotation marks.</li>
<li>The name string is then assigned to the <code>RELEASE_NAME</code> variable, which is available in the environment locally within this step. Other methods of assignments must be used if assigned to the broader Action environment</li>
</ol>
<p>The second line builds the <code>RELEASE_BRANCH</code> variable by prefixing 'release/' to the <code>RELEASE_NAME</code>. This is standard practice to denote the branch type clearly.</p>
<p>Line three creates the release branch, with the following lines pushing the branch and setting the upstream to the private (alias <code>origin</code>) and public (alias <code>public</code>) remote repositories.</p>
<p><a href="https://cli.github.com/manual/">GitHub CLI</a> can be configured to authenticate using the <code>gh auth login</code> command or will use the <code>GITHUB_TOKEN</code> environment variable. In this case, the environment variable is used and set with the <code>env:GITHUB_TOKEN</code> key to use the <code>EXTERNAL_REPO_TOKEN</code> PAT. The default <code>GITHUB_TOKEN</code> could also be used but is not used for consistency with earlier steps.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>- name: Read the release name and create a branch. Push branch to private and public.
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>  run: |
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    RELEASE_NAME=$(gh release view --json name | jq -r &#39;.name&#39;)
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>    RELEASE_BRANCH=release/$RELEASE_NAME
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>    git branch $RELEASE_BRANCH
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>    git push -u origin $RELEASE_BRANCH
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>    git push -u public $RELEASE_BRANCH
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>  env:
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>    GITHUB_TOKEN: ${{ secrets.EXTERNAL_REPO_TOKEN }}
</code></pre></div>
<h3 id="action-2-to-4">Action 2 to 4</h3>
<p>Actions 2 to 4 are the same between the current and alternative processes. You can read how they function above:</p>
<ul>
<li>Action 2 - <a href="https://github.com/NHSDigital/rap-community-of-practice/blob/main/.github/workflows/create-release-pr.yml">Create Pull Request for Release Branch</a></li>
<li>Action 3 - <a href="https://github.com/NHSDigital/rap-community-of-practice/blob/main/.github/workflows/create-release.yml">Create a Release</a></li>
<li>Action 4 - <a href="https://github.com/NHSDigital/rap-community-of-practice/blob/main/.github/workflows/pages-build-deployment.yml">Build and Deploy Website Pages</a></li>
</ul>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 16, 2025</span>
      
    
  </small>
</div>





                

<details class="info" open="">
<summary><em>External Links Disclaimer</em></summary>
<p><em>NHS England makes every effort to ensure that external links are accurate, up to date and relevant, however we cannot take responsibility for pages maintained by external providers.</em></p>
<p><em>NHS England is not affiliated with any of the websites or companies in the links to external websites.</em></p>
<p><em>If you come across any external links that do not work, we would be grateful if you could report them by raising an issue on our <a href="https://github.com/NHSDigital/rap-community-of-practice/issues">RAP Community of Practice GitHub</a>.</em></p>
</details>


              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <head>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />
</head>

<!-- Code for the next arrow from Material for MkDocs -->
<footer class="md-footer">
   
  <nav
    class="md-footer__inner md-grid"
    aria-label="Footer"
    
  >
     
    <a
      href="../acknowledgements/"
      class="md-footer__link md-footer__link--prev"
      aria-label="Previous: Acknowledgements"
      rel="prev"
    >
      <div class="md-footer__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </div>
      <div class="md-footer__title">
        <div class="md-ellipsis">
          <span class="md-footer__direction"> Previous </span>
          Acknowledgements
        </div>
      </div>
    </a>
      
    <a
      href="../repo_traffic_information/"
      class="md-footer__link md-footer__link--next"
      aria-label="Next: GitHub Repository Traffic Statistics"
      rel="next"
    >
      <div class="md-footer__title">
        <div class="md-ellipsis">
          <span class="md-footer__direction"> Next </span>
          GitHub Repository Traffic Statistics
        </div>
      </div>
      <div class="md-footer__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
      </div>
    </a>
    
  </nav>
  
</footer>

<footer class="footer">
  <div class="footer_left">
    <a href="mailto:england.rapchampions@nhs.net"><p>Contact Us</p></a>
    <p>Developed by <a href="https://www.england.nhs.uk/">NHS England</a></p>
  </div>

  <div class="legal">
    <div class="footer_left">
    <p>&copy; 2025 Crown Copyright (NHS England)</p>
    <p>All content is available under the
      <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence v3.0</a>, except where otherwise stated.
    </p>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["search.share", "content.code.annotate", "content.tabs.link", "navigation.tabs", "navigation.indexes", "toc.integrate"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="../../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
    
  </body>
</html>